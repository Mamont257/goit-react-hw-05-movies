"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{278:function(t,e,n){n.r(e);var r=n(861),o=n(439),u=n(757),c=n.n(u),i=n(791),a=n(87),s=n(689),f=n(184);e.default=function(){var t,e=(0,a.lr)(),n=(0,o.Z)(e,2),u=n[0],h=n[1],l=(0,i.useState)([]),p=(0,o.Z)(l,2),v=p[0],m=p[1],d=null!==(t=u.get("movieId"))&&void 0!==t?t:"",x=(0,s.TH)(),b="https://api.themoviedb.org/3/",w="158819e65eb0fbf8513ba7b934c25216";function k(){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b,"/search/movie?api_key=").concat(w,"&query=").concat(d)).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){m(t.results)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,i.useEffect)((function(){k()}),[]);return(0,f.jsxs)("main",{children:[(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),h({movieId:t.target.search.value}),k()},children:[(0,f.jsx)("input",{type:"text",value:d,name:"search",onChange:function(t){""===t.target.value?h({}):h({movieId:t.target.value})}}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),(0,f.jsx)("ul",{children:v.map((function(t){var e=t.id,n=t.title;return(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"".concat(e),state:{from:x},children:n})},e)}))})]})}},861:function(t,e,n){function r(t,e,n,r,o,u,c){try{var i=t[u](c),a=i.value}catch(s){return void n(s)}i.done?e(a):Promise.resolve(a).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,u){var c=t.apply(e,n);function i(t){r(c,o,u,i,a,"next",t)}function a(t){r(c,o,u,i,a,"throw",t)}i(void 0)}))}}n.d(e,{Z:function(){return o}})}}]);
//# sourceMappingURL=278.b0ecd3a7.chunk.js.map